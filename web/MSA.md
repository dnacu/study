# MSA: Micro Service Architecture

## Monolithic Architecture

서비스의 모든 컴포넌트가 분리되지 않고, 한개의 서비스 안에서 동작하며, 각각의 컴포넌트는 강한 결합을 가지는 전통적인 아키텍처이다. 빠르고 쉽게 서비스를 구성할 수 있어 적은 비용으로 서비스를 출시할 수 있다는 장점이 있다.

하지만 서비스의 규모가 커짐에 따라 한계성이 드러난다.

### 부분의 장애가 전체의 서비스 장애로 확대되는 문제

예를들어 주문서비스에서 메모리 누수가 났다...고 가정하자. 하나의 서비스기 때문에 주문에서의 메모리 누수는 전체서비스에 영향을 끼칠 것이다.

### 부분적인 scale-out 이 힘든 문제

> `scale-out` 이란 서버의 대수를 늘려 처리 능력을 향상시키는 것(하나의 장비에서 처리하던 일을 여러 장비에 나눠서 처리할 수 있도록 설계를 변경)이고, `scale-up` 이란 서버 그 자체의 처리 능력을 향상시키는 것(CPU, RAM 업그레이드 등)이다.

### 그 외

- 서비스의 변경이 매우 어렵고, 수정시 장애 영향도 파악이 힘든 문제
- 작은 변경에도 높은 수준의 테스트 비용

이러한 문제들은 여러 컴포넌트가 하나의 서비스에 강결합 형태로 되어 있기 때문에 발생한다.

## BFF: Backend For FrontEnd

MSA구조에서 주로 사용하는 아키텍쳐 패턴.

Monolithic에서 MSA로 변화하면서 여러 서비스의 API를 사용하게 되었는데, 이를 통합적으로 관리해주는 중개자(`Public API`)를 두어 처리함으로써 관리하였다. 하지만 여러개의 앤드포인트(모바일, 웹 등)에서 요구하는 부분이 각각 다른데 같은 API 서버에 접근하다 보니 API설계가 복잡해지고, 그에 따라 하나의 정보를 얻기 위해 API 호출을 여러번 해야하는 상황도 발생한다.

BFF 아키텍쳐에서는 이를 해결하기 위해 각 앤드포인트마다 중간 매개체 역할을 하는 서버를 둠으로써 이를 해결하고자 한다.
